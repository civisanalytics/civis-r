# Changelog

## [1.0.0] - 2017-08-15

### Added
- `civis_ml` wrapper for CivisML 1.1.
- Named civis_ml workflows: `civis_ml_sparse_logistic`, `civis_ml_gradient_boosting_classifier`, `civis_ml_random_forest_classifier`, `civis_ml_extra_trees_classifier`, `civis_ml_sparse_linear_regressor`, `civis_ml_sparse_ridge_regressor`,
`civis_ml_gradient_boosting_regressor`, `civis_ml_random_forest_regressor`, and
`civis_ml_extra_trees_regressor`.
- `predict.civis_ml` runs a CivisML scoring job on platform for a given model and data.
- `fetch_logs` can be used to fetch logs from a model run.
- `fetch_oos_scores` can be used to return out of sample/fold scores from a model.
- `civis_ml_fetch_existing` returns an existing platform job.

- `download_civis` downloads a `"schema.table"`, a `sql("query")` from Redshift, or a file from the files endpoint using file id.
- `download_civis` can export in parallel using `split = TRUE`.
- A default database for all IO functions can be stored in `options(civis.default_db = "my_database")`.

-  DBI interface: `dbWriteTable`, `dbSentStatement`, `dbReadTable`, `dbListTables`
- dplyr and dbplyr are suggested.

- `refresh_table` can be used to refresh table meta data
- `transfer_table` can be used to transfer tables between redshift databases  
- `get_table_id` can be used to retrieve a table id

- `print.civis_api` method for API responses hides attributes.

- `await` and `await_all` are provided for polling job/task completion.
- `await` and `await_all` use an exponential backoff retry time for polling if `.interval` is not set (the default).
- `await` and `await_all` throw a `civis_await_error` on platform errors, and print the platform error message along with job and run ids.
- `get_error` can be used to obtain additional debugging data from `civis_await_error` (platform errors).
- `await` and `await_all` throw a `civis_timeout_error` if `.timeout` was specified.

- Package vignette on concurrent polling using futures and foreach.
- `CODE_OF_CONDUCT.md`
- `CHANGELOG.md`


### Changed

- Renamed package from `civis.r.client` to `civis`.

- `read_civis` reads a `"schema.table"` or `'sql("query")'` from Redshift, and a file from the files endpoint using file id as a data frame.
- `read_civis` sql queries are read only.
- `write_civis`  uploads a data frame or local csv to Redshift.
- `write_civis_file` uploads a serialized R object or an unserialized local file to the files endpoint (S3).
- `query_civis` runs an arbitrary `"query"`, a `'sql("query")'` or a previous query from a query id.
- `query_civis` only returns query meta data.
- IO vignette is updated.
- `README.md`
- `LICENCE` is now BSD-3clause.

- New endpoints can be generated by reinstalling the package.
- Code generator has no python dependencies.
- Naming scheme for generated endpoints matches the Python client, e. `scripts_post_sql` instead of `scripts_create_sql`.
- Rmarkdown is the default option for `publish_rmd`.
- `publish_rmd`, `publish_html` now return the report id.
- API responses are now S3 objects.
- Endpoint function names are no longer singularized.
- `NULL` can be passed directly to the API.

### Removed

- `read_civis_sql`, `save_civis`, `load_civis`, `file_from_civis`, `file_to_civis`,
`export_csv`, and `csv_to_civis`
- `lookup_table_id`
- `model_civis`
- `poll_civis`


