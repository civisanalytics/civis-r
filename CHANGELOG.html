<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • civis</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script>
<script src="pkgdown.js"></script>



<meta property="og:title" content="Changelog" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">civis</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="articles/civis_ml.html">Machine Learning in R with CivisML</a>
    </li>
    <li>
      <a href="articles/concurrency.html">Making Simultaneous Calls to Platform</a>
    </li>
    <li>
      <a href="articles/data_import_and_export.html">Data Import and Export</a>
    </li>
    <li>
      <a href="articles/quick_start.html">Getting Started</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/civisanalytics/civis-r">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Changelog</h1>
    </div>

<div id="changelog" class="section level1">

<div id="section" class="section level2">
<h2 class="hasAnchor">
<a href="#section" class="anchor"></a>[1.4.0] - 2018-05-04</h2>
<div id="changed" class="section level3">
<h3 class="hasAnchor">
<a href="#changed" class="anchor"></a>Changed</h3>
<ul>
<li>Add v2.2 CivisML templates.</li>
<li>Removed read-only restriction for queries from <code>read_civis</code> and <code>download_civis</code>.</li>
<li>The DBI connectors are provided on an as-is basis and are no longer maintained.</li>
</ul>
</div>
<div id="fixed" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed" class="anchor"></a>Fixed</h3>
<ul>
<li>Fix CRAN check failures for dev DBI-test.</li>
</ul>
</div>
</div>
<div id="section-1" class="section level2">
<h2 class="hasAnchor">
<a href="#section-1" class="anchor"></a>[1.3.0] - 2018-03-30</h2>
<div id="added" class="section level3">
<h3 class="hasAnchor">
<a href="#added" class="anchor"></a>Added</h3>
<ul>
<li>Local dataframes can now be sent to CivisML as feather files.</li>
<li>Print CivisML training warnings when model results are fetched from Platform.</li>
<li><p><code>predict.civis_ml</code> and <code>create_and_run_pred</code> gain a <code>dvs_to_predict</code> argument which allows users to restrict output predictions to a subset of targets from a multi-output model.</p></li>
<li>
<code>query_civis_file</code> exports a <code>"schema.tablename"</code>, <code><a href="http://dplyr.tidyverse.org/reference/sql.html">sql("query")</a></code>, or existing sql script id to S3 and returns the file id.</li>
<li><p><code>write_civis</code> gains a <code>diststyle</code> argument for controlling the distribution of tables on Redshift.</p></li>
</ul>
</div>
<div id="changed-1" class="section level3">
<h3 class="hasAnchor">
<a href="#changed-1" class="anchor"></a>Changed</h3>
<ul>
<li>CivisML stacking documentation has been updated.</li>
<li>
<code>write_civis_file</code> now defaults to the file path for the <code>name</code> argument instead of requiring it.</li>
</ul>
</div>
<div id="fixed-1" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-1" class="anchor"></a>Fixed</h3>
<ul>
<li>
<code>read_civis.numeric</code>, <code>write_civis.numeric</code>, <code>download_civis.numeric</code>, and <code>query_civis.numeric</code> now fail with a better error message when called with <code>x = NA</code> of type numeric.</li>
<li>The <code>hidden</code> argument of <code>write_civis</code> now works.</li>
<li>New lines are removed from parameter descriptions in generated docs.</li>
</ul>
</div>
</div>
<div id="section-2" class="section level2">
<h2 class="hasAnchor">
<a href="#section-2" class="anchor"></a>[1.2.0] - 2018-01-23</h2>
<div id="fixed-2" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-2" class="anchor"></a>Fixed</h3>
<ul>
<li>
<code>resolved.CivisFuture</code> now gets the status of the platform job directly and updates the state of the future.</li>
</ul>
</div>
<div id="added-1" class="section level3">
<h3 class="hasAnchor">
<a href="#added-1" class="anchor"></a>Added</h3>
<ul>
<li>Update <code>civis_ml</code> documentation with the following CivisML 2.1 features and defaults:
<ul>
<li>Nulls are permitted in single-column dependent variables, and will be dropped before modeling.</li>
<li>Hyperband is enabled for stacking models.</li>
<li>MLPs can be run without hyperband (and R checks removed)</li>
<li>
<code>n_jobs</code> is dynamically calculated by default for training as well as prediction.</li>
<li>
<code>feather-format</code> is now allowed as an input format.</li>
</ul>
</li>
<li>CivisML vignette updated with new v2 features.</li>
<li>
<code>value.CivisFuture</code> now prints error logs from failed jobs, throws a catcheable error, and fetches the job logs automatically.</li>
</ul>
</div>
<div id="changed-2" class="section level3">
<h3 class="hasAnchor">
<a href="#changed-2" class="anchor"></a>Changed</h3>
<ul>
<li>
<code>civis_ml_fetch_existing</code> can handle runs with missing <code>metrics.json</code> files.</li>
<li>
<code>civis_ml</code> will use the most recent CivisML version available, falling back to CivisML 1.1.</li>
</ul>
</div>
</div>
<div id="section-3" class="section level2">
<h2 class="hasAnchor">
<a href="#section-3" class="anchor"></a>[1.1.1] - 2017-11-20</h2>
<div id="fixed-3" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-3" class="anchor"></a>Fixed</h3>
<ul>
<li>
<code>write_civis</code> calls <code>imports_post_files</code> correctly after a change in the argument order.</li>
</ul>
</div>
</div>
<div id="section-4" class="section level2">
<h2 class="hasAnchor">
<a href="#section-4" class="anchor"></a>[1.1.0] - 2017-11-10</h2>
<div id="fixed-4" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-4" class="anchor"></a>Fixed</h3>
<ul>
<li>Corrected project_id type in <code>publish_rmd</code> and <code>publish_html</code>
</li>
<li>
<code>polling_interval</code> can now be specified in <code>civis_ml</code>
</li>
</ul>
</div>
<div id="changed-3" class="section level3">
<h3 class="hasAnchor">
<a href="#changed-3" class="anchor"></a>Changed</h3>
<ul>
<li>
<code>call_api</code> only retries on 413, 429, 502, 503, 504 as in civis-python.</li>
<li>Updated the default api spec to the current spec. New endpoints added include /announcements, /apps, /clusters, /codes, /enhancements, /media, /notebooks. Most endpoints were already available to all users, but with this change these endpoints will now be documented.</li>
<li>
<code>write_civis_file</code> uploads objects larger than 50MB in multiple parts, and supports objects up to 5TB. Uploads occur in parallel if a <code><a href="http://www.rdocumentation.org/packages/future/topics/plan">future::plan</a></code> has been specified.</li>
<li>Files uploaded using <code>write_civis_file</code> now don’t expire by default.</li>
</ul>
</div>
<div id="added-2" class="section level3">
<h3 class="hasAnchor">
<a href="#added-2" class="anchor"></a>Added</h3>
<ul>
<li>“Publish to Civis” Rstudio addin installed by default that publishes <code>.Rmd</code> and <code>.html</code> files as Civis Platform reports.</li>
<li>
<code>write_civis.numeric</code> is provided to sync a CSV file on S3 to Redshift given a file id.</li>
<li>A new <code>plan(civis_platform)</code> has been added to evaluate R expressions on Civis Platform using the <code>future</code> API.</li>
</ul>
<div id="civisml" class="section level4">
<h4 class="hasAnchor">
<a href="#civisml" class="anchor"></a>CivisML</h4>
<ul>
<li>New named workflows: <code>multilayer_perceptron_regressor</code>, <code>multilayer_perceptron_classifier</code>, <code>stacking_regressor</code>, and <code>stacking_classifier</code>
</li>
<li>Hyperband is provided for hyperparameter tuning by setting <code>cross_validation_parameters = "hyperband"</code> in <code>gradient_boosting_classifier</code>, <code>random_forest_classifier</code>, <code>extra_trees_classifier</code>, <code>multilayer_perceptron_classifier</code>, <code>gradient_boosting_regressor</code>, <code>random_forest_regressor</code>, <code>extra_trees_regressor</code>, and <code>multilayer_perceptron_regressor</code>.</li>
<li>Hyperparameter tuning (grid search and hyperband) is now distributed across EC2 instances by setting <code>n_jobs &gt; 1</code> (default 4)</li>
<li>The validation step can now be skipped by setting <code>validation_data = "skip"</code>.</li>
<li>Compute resources for prediction jobs can now also be set using <code>"cpu_requested"</code>, <code>"memory_requested"</code>, and <code>"disk_requested"</code> arguments in <code>predict.civis_ml</code>.</li>
</ul>
</div>
</div>
</div>
<div id="section-5" class="section level2">
<h2 class="hasAnchor">
<a href="#section-5" class="anchor"></a>[1.0.2] - 2017-09-21</h2>
<div id="fixed-5" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-5" class="anchor"></a>Fixed</h3>
<ul>
<li>roxygen2::roxygenize, devtools::build, and memoise::memoise included in NAMESPACE</li>
<li>uuid dependency removed</li>
<li>run_generate_client now in R/generate_client.R</li>
<li>skip autogen on windows with R &lt; 3.4.0</li>
<li>don’t test time formatting in fetch logs.</li>
</ul>
</div>
</div>
<div id="section-6" class="section level2">
<h2 class="hasAnchor">
<a href="#section-6" class="anchor"></a>[1.0.1] - 2017-09-18</h2>
<div id="fixed-6" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-6" class="anchor"></a>Fixed</h3>
<ul>
<li>
<code>configure</code> and <code>configure.win</code> now use <code>R_HOME</code> to find <code>Rscript</code> instead of assuming that <code>Rscript</code> is on the path.</li>
<li>
<code>configure</code> uses <code>bin/sh</code> instead of <code>bin/bash</code>
</li>
<li>
<code>configure.win</code> uses <code>Rscript.exe</code> for windows builds</li>
<li>
<code>configure.win</code> does not use <code>bin/bash</code>.</li>
</ul>
</div>
</div>
<div id="section-7" class="section level2">
<h2 class="hasAnchor">
<a href="#section-7" class="anchor"></a>[1.0.0] - 2017-09-08</h2>
<div id="added-3" class="section level3">
<h3 class="hasAnchor">
<a href="#added-3" class="anchor"></a>Added</h3>
<div id="civisml-1" class="section level4">
<h4 class="hasAnchor">
<a href="#civisml-1" class="anchor"></a>CivisML</h4>
<ul>
<li>Print methods for <code>civis_ml</code> objects have been improved.</li>
<li>
<code>fetch_predictions</code> is provided to read results from a prediction job into memory from S3.</li>
<li>Plot method for <code>civis_ml_regressor</code> shows y-yhat binned histogram using ggplot2.</li>
<li>Plot method for <code>civis_ml_classifier</code> shows the decile plot using ggplot2.</li>
<li>Hist methods for <code>civis_ml</code> objects provide histograms of the OOS scores using ggplot2.</li>
<li>A list of estimator names is provided in <code>CIVIS_ML_CLASSIFIERS</code> and <code>CIVIS_ML_REGRESSORS</code>.</li>
</ul>
</div>
<div id="programming" class="section level4">
<h4 class="hasAnchor">
<a href="#programming" class="anchor"></a>Programming</h4>
<ul>
<li>
<code>fetch_logs</code> now works for any <code>civis_api</code> object with a valid <code>*_runs_logs</code> method, and any <code>civis_error</code> object.</li>
</ul>
</div>
<div id="documentation" class="section level4">
<h4 class="hasAnchor">
<a href="#documentation" class="anchor"></a>Documentation</h4>
<ul>
<li>A <a href="https://civisanalytics.github.io/civis-r/articles/quick_start.html">quick start</a> vignette was added.</li>
<li>A <a href="https://civisanalytics.github.io/civis-r/articles/civis_ml.html">CivisML</a> modeling vignette was added.</li>
<li>Only whitelisted endpoints are documented on the web.</li>
<li>The <code>expires_at</code> parameter of <code>write_civis_file</code> has been clarified.</li>
</ul>
</div>
</div>
<div id="changed-4" class="section level3">
<h3 class="hasAnchor">
<a href="#changed-4" class="anchor"></a>Changed</h3>
<ul>
<li>
<code>civis_ml</code> now throws an appropriate error message if a model type is called with multiple dependent variables but doesn’t support them.</li>
<li>Errors from CivisML are now errors in <code>civis_ml</code>, with the CivisML error logs being printed to the console.</li>
<li>A <code>empty_result_error</code> is now thrown from <code>read_civis.sql</code> if the query returns no results.</li>
<li>
<code>as_function</code> deprecation from <code>purrr</code> replaced.</li>
<li>If there is only one available database and a default database has not been set as a package option or provided, <code>get_default_database</code> uses that database.</li>
</ul>
</div>
<div id="fixed-7" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-7" class="anchor"></a>Fixed</h3>
<ul>
<li>
<code>read_civis</code> now reads from a temporary file when the file size is &gt; than 2^31-1 bytes.</li>
</ul>
</div>
</div>
<div id="section-8" class="section level2">
<h2 class="hasAnchor">
<a href="#section-8" class="anchor"></a>[0.9.1] - 2017-08-15</h2>
<div id="added-4" class="section level3">
<h3 class="hasAnchor">
<a href="#added-4" class="anchor"></a>Added</h3>
<div id="civisml-2" class="section level4">
<h4 class="hasAnchor">
<a href="#civisml-2" class="anchor"></a>CivisML</h4>
<ul>
<li>
<code>civis_ml</code> wrapper for CivisML 1.1.</li>
<li>Named civis_ml workflows: <code>civis_ml_sparse_logistic</code>, <code>civis_ml_gradient_boosting_classifier</code>, <code>civis_ml_random_forest_classifier</code>, <code>civis_ml_extra_trees_classifier</code>, <code>civis_ml_sparse_linear_regressor</code>, <code>civis_ml_sparse_ridge_regressor</code>, <code>civis_ml_gradient_boosting_regressor</code>, <code>civis_ml_random_forest_regressor</code>, and <code>civis_ml_extra_trees_regressor</code>.</li>
<li>
<code>civis_table</code>, <code>civis_file</code> used to indicate data sources for <code>civis_ml</code>
</li>
<li>
<code>predict.civis_ml</code> runs a CivisML scoring job on platform for a given model and data.</li>
<li>
<code>fetch_logs</code> can be used to fetch logs from a model run.</li>
<li>
<code>fetch_oos_scores</code> can be used to return out of sample/fold scores from a model.</li>
<li>
<code>civis_ml_fetch_existing</code> returns an existing platform job.</li>
</ul>
</div>
<div id="io" class="section level4">
<h4 class="hasAnchor">
<a href="#io" class="anchor"></a>IO</h4>
<ul>
<li>
<code>read_civis</code> reads a<code>"schema.table"</code>, a <code><a href="http://dplyr.tidyverse.org/reference/sql.html">sql("query")</a></code>, or a file id to a data frame.</li>
<li>
<code>read_civis</code> sql queries are read only.</li>
<li>
<code>write_civis</code> uploads a data frame or local csv to Redshift.</li>
<li>
<code>write_civis_file</code> uploads a serialized R object or an unserialized local file to the files endpoint (S3).</li>
<li>
<code>query_civis</code> runs an arbitrary <code>"query"</code>, <code><a href="http://dplyr.tidyverse.org/reference/sql.html">sql("query")</a></code>, or a query id.</li>
<li>
<code>query_civis</code> only returns query meta data.</li>
<li>
<code>download_civis</code> downloads a<code>"schema.table"</code>, a <code><a href="http://dplyr.tidyverse.org/reference/sql.html">sql("query")</a></code>, or a file id to a file.</li>
<li>
<code>download_civis</code> can export in parallel using <code>split = TRUE</code>.</li>
<li>A default database for all IO functions can be stored in <code>options(civis.default_db = "my_database")</code>.</li>
</ul>
</div>
<div id="tables" class="section level4">
<h4 class="hasAnchor">
<a href="#tables" class="anchor"></a>Tables</h4>
<ul>
<li>
<code>refresh_table</code> can be used to refresh table meta data</li>
<li>
<code>transfer_table</code> can be used to transfer tables between redshift databases</li>
<li>
<code>get_table_id</code> can be used to retrieve a table id</li>
</ul>
</div>
<div id="dplyr" class="section level4">
<h4 class="hasAnchor">
<a href="#dplyr" class="anchor"></a>dplyr</h4>
<ul>
<li>DBI interface: <code>dbWriteTable</code>, <code>dbSentStatement</code>, <code>dbReadTable</code>, <code>dbListTables</code>
</li>
<li>dplyr and dbplyr are suggested.</li>
</ul>
</div>
<div id="reports" class="section level4">
<h4 class="hasAnchor">
<a href="#reports" class="anchor"></a>Reports</h4>
<ul>
<li>
<code>publish_rmd</code>, <code>publish_html</code> return the report id.</li>
<li>Rmarkdown is the default option for <code>publish_rmd</code>.</li>
</ul>
</div>
<div id="programming-1" class="section level4">
<h4 class="hasAnchor">
<a href="#programming-1" class="anchor"></a>Programming</h4>
<ul>
<li>API responses are S3 objects.</li>
<li>
<code>print.civis_api</code> method for API responses hides attributes.</li>
<li>
<code>await</code> and <code>await_all</code> are provided for polling job/task completion.</li>
<li>
<code>await</code> and <code>await_all</code> use an exponential backoff retry time for polling if <code>.interval</code> is not set (the default).</li>
<li>
<code>await</code> and <code>await_all</code> throw a <code>civis_await_error</code> on platform errors, and print the platform error message along with job and run ids.</li>
<li>
<code>get_error</code> can be used to obtain additional debugging data from <code>civis_await_error</code> (platform errors).</li>
<li>
<code>await</code> and <code>await_all</code> throw a <code>civis_timeout_error</code> if <code>.timeout</code> was specified.</li>
<li>
<code>NULL</code> can be passed directly to the API.</li>
</ul>
</div>
<div id="packaging" class="section level4">
<h4 class="hasAnchor">
<a href="#packaging" class="anchor"></a>Packaging</h4>
<ul>
<li>New endpoints can be generated by reinstalling the package.</li>
<li>Naming scheme for generated endpoints matches the Python client, e.g. <code>scripts_post_sql</code>
</li>
<li>
<code>LICENCE</code> is now BSD-3.</li>
<li><code>CODE_OF_CONDUCT.md</code></li>
<li><code>CHANGELOG.md</code></li>
</ul>
</div>
<div id="documentation-1" class="section level4">
<h4 class="hasAnchor">
<a href="#documentation-1" class="anchor"></a>Documentation</h4>
<ul>
<li>IO vignette.</li>
<li>Concurrent polling using futures and foreach vignette.</li>
<li>Package website.</li>
</ul>
</div>
</div>
</div>
</div>

  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Patrick Miller, Keith Ingersoll.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

