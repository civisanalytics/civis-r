<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Patrick Miller and Liz Sander" />


<title>Machine Learning in R with CivisML</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Machine Learning in R with CivisML</h1>
<h4 class="author">Patrick Miller and Liz Sander</h4>
<h4 class="date">2018-1-18</h4>



<p>There are so many models to build! When this becomes challenging on a
local machine, offloading model building to the cloud can save a lot of
time and effort.</p>
<p><a href="https://medium.com/civis-analytics/civisml-scikit-learn-at-scale-b01b496916ea">CivisML</a>
is a machine learning service on Civis Platform that makes this as
painless as possible. You can fit many different models, do extensive
hyperparameter tuning, and score data sets with millions of observations
stored in remote databases. Once these models are built, they live in
Civis Platform permanently and can be included into production
pipelines. Results can be easily incorporated into reports and
dashboards.</p>
<p>CivisML is built in Python using <a href="https://scikit-learn.org/stable/">scikit-learn</a>, and leverages
AWS behind the scenes for efficient distributed computing. However, most
of its features can be used through R without knowledge of Python or AWS
with the <code>civis_ml</code> function in <code>civis</code>.</p>
<p>While <code>civis_ml</code> is a complex function with many
arguments, basic machine learning modeling and scoring can be easily
carried out. We illustrate several features of <code>civis_ml</code>
with data from a fictitious company called Brandable, who is looking to
predict which customers are likely to upgrade from the free to the
premium service.</p>
<div id="data-sources" class="section level2">
<h2>Data sources</h2>
<p>The first step of modeling with <code>civis_ml</code> is to specify
the data source, which is the first argument. <code>civis_ml</code>
works with local data frames, a CSV on local disk, <a href="https://github.com/wesm/feather">feather-format</a> files, tables
in Redshift, and files on S3 (the files endpoint):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(civis)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">civis_ml</span>(df, ...)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">civis_ml</span>(<span class="st">&quot;path/to/data.csv&quot;</span>, ...)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">civis_ml</span>(<span class="fu">civis_table</span>(<span class="at">table_name =</span> <span class="st">&quot;schema.table&quot;</span>, <span class="at">database_name =</span> <span class="st">&quot;database&quot;</span>), ...)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="fu">civis_ml</span>(<span class="fu">civis_file</span>(<span class="dv">1234</span>), ...)</span></code></pre></div>
<p>The Brandable data is located in a Redshift table called
<code>sample_project.premium_training_set</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">options</span>(<span class="at">civis.default_db =</span> <span class="st">&quot;my_database&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>tab <span class="ot">&lt;-</span> <span class="fu">civis_table</span>(<span class="at">table_name =</span> <span class="st">&quot;sample_project.premium_training_set&quot;</span>)</span></code></pre></div>
<p>Note that <code>civis_table</code> only returns information on where
to find the data for <code>civis_ml</code>, not the data itself.
<code>civis_table</code> also takes two SQL statements that can be
useful for limiting the rows used for training: <code>sql_where</code>,
and <code>sql_limit</code>.</p>
</div>
<div id="modeling" class="section level2">
<h2>Modeling</h2>
<p>After the data source is specified, we next choose the model type.
There are 13 named CivisML models that can be called from
<code>civis_ml</code>, 6 for classification and 7 for regression. The
name of the model corresponds to the name of the estimator in
scikit-learn. It can be given in the <code>model_type</code> argument of
<code>civis_ml</code>, or called directly using a
<code>civis_ml_*</code> function such as
<code>civis_ml_sparse_logistic</code>.</p>
<table>
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="20%" />
<col width="18%" />
<col width="30%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th align="left">R Workflow</th>
<th>Model Type</th>
<th>scikit-learn Documentation</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>sparse_logistic</code></td>
<td align="left"><code>civis_ml_sparse_logistic</code></td>
<td>classification</td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html">Logistic
Regression</a></td>
<td></td>
</tr>
<tr class="even">
<td><code>gradient_boosting_classifier</code></td>
<td align="left"><code>civis_ml_gradient_boosting_classifier</code></td>
<td>classification</td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.GradientBoostingClassifier.html">GradientBoostingClassifier</a></td>
<td></td>
</tr>
<tr class="odd">
<td><code>random_forest_classifier</code></td>
<td align="left"><code>civis_ml_random_forest_classifier</code></td>
<td>classification</td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html">RandomForestClassifier</a></td>
<td></td>
</tr>
<tr class="even">
<td><code>extra_trees_classifier</code></td>
<td align="left"><code>civis_ml_extra_trees_classifier</code></td>
<td>classification</td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.ExtraTreesClassifier.html">ExtraTreesClassifier</a></td>
<td></td>
</tr>
<tr class="odd">
<td><code>multilayer_perceptron_classifier</code></td>
<td align="left"></td>
<td>classification</td>
<td><a href="https://github.com/civisanalytics/muffnn">muffnn.MLPClassifier</a></td>
<td></td>
</tr>
<tr class="even">
<td><code>stacking_classifier</code></td>
<td align="left"></td>
<td>classification</td>
<td><a href="https://github.com/civisanalytics/civisml-extensions">StackedClassifier</a></td>
<td></td>
</tr>
<tr class="odd">
<td><code>sparse_linear_regressor</code></td>
<td align="left"><code>civis_ml_sparse_linear_regressor</code></td>
<td>regression</td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LinearRegression.html">LinearRegression</a></td>
<td></td>
</tr>
<tr class="even">
<td><code>sparse_ridge_regressor</code></td>
<td align="left"><code>civis_ml_sparse_ridge_regressor</code></td>
<td>regression</td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.Ridge.html">Ridge</a></td>
<td></td>
</tr>
<tr class="odd">
<td><code>gradient_boosting_regressor</code></td>
<td align="left"><code>civis_ml_gradient_boosting_regressor</code></td>
<td>regression</td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.GradientBoostingRegressor.html">GradientBoostingRegressor</a></td>
<td></td>
</tr>
<tr class="even">
<td><code>random_forest_regressor</code></td>
<td align="left"><code>civis_ml_random_forest_regressor</code></td>
<td>regression</td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestRegressor.html">RandomForestRegressor</a></td>
<td></td>
</tr>
<tr class="odd">
<td><code>extra_trees_regressor</code></td>
<td align="left"><code>civis_ml_extra_trees_regressor</code></td>
<td>regression</td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.ExtraTreesRegressor.html">ExtraTreesRegressor</a></td>
<td></td>
</tr>
<tr class="even">
<td><code>multilayer_perceptron_regressor</code></td>
<td align="left"></td>
<td>regression</td>
<td><a href="https://github.com/civisanalytics/muffnn">muffnn.MLPRegressor</a></td>
<td></td>
</tr>
<tr class="odd">
<td><code>stacking_regressor</code></td>
<td align="left"></td>
<td>regression</td>
<td><a href="https://github.com/civisanalytics/civisml-extensions">StackedRegressor</a></td>
<td></td>
</tr>
</tbody>
</table>
<p>Documentation on the meta parameters specific to each estimator are
provided in <code>?civis_ml_*</code>. For example, the regularization
strength parameter <code>C</code> of <code>sparse_logistic</code> is
documented in <code>?civis_ml_sparse_logistic</code>.</p>
<p>For the Brandable data, we use a <code>random_forest</code>
classifier to predict the probability that a customer upgrades from free
to premium services. For efficiency, we can also denote a
<code>primary_key</code>, and a set of <code>excluded_columns</code>
that are not included in the model:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">library</span>(civis)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>tab <span class="ot">&lt;-</span> <span class="fu">civis_table</span>(<span class="st">&quot;sample_project.premium_training_set&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>m   <span class="ot">&lt;-</span> <span class="fu">civis_ml</span>(tab, <span class="at">dependent_variable =</span> <span class="st">&quot;upgrade&quot;</span>,</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>                <span class="at">model_type =</span> <span class="st">&quot;random_forest_classifier&quot;</span>,</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>                <span class="at">primary_key =</span> <span class="st">&quot;brandable_user_id&quot;</span>,</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>                <span class="at">excluded_columns =</span> <span class="st">&quot;residential_zip&quot;</span>)</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">civis_ml_random_forest_classifier</span>(tab,</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>      <span class="at">primary_key =</span> <span class="st">&quot;brandable_user_id&quot;</span>,</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>      <span class="at">excluded_columns =</span> <span class="st">&quot;residential_zip&quot;</span>)</span></code></pre></div>
<p>Note that if the dependent variables have null values, those rows
will be removed before modeling.</p>
<div id="hyperparameter-tuning" class="section level3">
<h3>Hyperparameter Tuning</h3>
<p>You can tune hyperparameters using one of two methods: grid search or
hyperband. CivisML will perform grid search if you pass a named list of
hyperparameters and candidate values to
<code>cross_validation_parameters</code>. By default, hyperparameter
tuning will run in parallel, using as many jobs as possible without
overloading your computing cluster. If you wish to have more control
over the number of jobs running at once, you can set it using the
<code>n_jobs</code> parameter.</p>
<p><a href="https://arxiv.org/abs/1603.06560">Hyperband</a> is an
efficient approach to hyperparameter optimization, and recommended over
grid search where possible. CivisML will perform hyperband optimization
if you pass the string <code>&quot;hyperband&quot;</code> to
<code>cross_validation_parameters</code>. Hyperband cannot be used to
tune GLMs. For this reason, preset GLMs do not have a hyperband option.
Hyperband is supported for random forests, gradient boosted trees, extra
trees, multilayer perceptrons, and the random forest and gradient
boosted tree steps of stacking. It is highly recommended that multilayer
perceptron models only be used with hyperband.</p>
<p>For the <code>random_forest_classifier</code> in the Brandable data,
we try both <code>&quot;hyperband&quot;</code> and grid search for hyperparameter
optimization.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>tab <span class="ot">&lt;-</span> <span class="fu">civis_table</span>(<span class="st">&quot;sample_project.premium_training_set&quot;</span>)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co"># hyperband</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>m_hyper <span class="ot">&lt;-</span> <span class="fu">civis_ml</span>(tab, <span class="at">dependent_variable =</span> <span class="st">&quot;upgrade&quot;</span>,</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>              <span class="at">model_type =</span> <span class="st">&quot;random_forest_classifier&quot;</span>,</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>              <span class="at">primary_key =</span> <span class="st">&quot;brandable_user_id&quot;</span>,</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>              <span class="at">excluded_columns =</span> <span class="st">&quot;residential_zip&quot;</span>,</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>              <span class="at">cross_validation_parameters =</span> <span class="st">&#39;hyperband&#39;</span>)</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="co"># grid search</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>cv_params <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;max_depth&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>),</span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>                  <span class="st">&quot;n_estimators&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">500</span>))</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a>m_grid <span class="ot">&lt;-</span> <span class="fu">civis_ml</span>(tab, <span class="at">dependent_variable =</span> <span class="st">&quot;upgrade&quot;</span>,</span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a>              <span class="at">model_type =</span> <span class="st">&quot;random_forest_classifier&quot;</span>,</span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>              <span class="at">primary_key =</span> <span class="st">&quot;brandable_user_id&quot;</span>,</span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a>              <span class="at">excluded_columns =</span> <span class="st">&quot;residential_zip&quot;</span>,</span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a>              <span class="at">cross_validation_parameters =</span> cv_params)</span></code></pre></div>
<p>CivisML runs pre-defined models with hyperband using the following
distributions:</p>
<table>
<colgroup>
<col width="26%" />
<col width="14%" />
<col width="59%" />
</colgroup>
<thead>
<tr class="header">
<th>Models</th>
<th>Cost Parameter</th>
<th>Hyperband Distributions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>gradient_boosting_classifier <br> gradient_boosting_regressor <br>
GBT step in stacking_classifier <br> GBT step in stacking_regressor</td>
<td><code>n_estimators</code> <br> <code>min = 100,</code> <br>
<code>max = 1000</code></td>
<td><code>max_depth: randint(low=1, high=5)</code> <br>
<code>max_features: [None, &#39;sqrt&#39;, &#39;log2&#39;, 0.5, 0.3, 0.1, 0.05, 0.01]</code>
<br>
<code>learning_rate: truncexpon(b=5, loc=.0003, scale=1./167.)</code></td>
</tr>
<tr class="even">
<td>———————————-</td>
<td>——————</td>
<td>—————————————————————————</td>
</tr>
<tr class="odd">
<td>random_forest_classifier <br> random_forest_regressor <br>
extra_trees_classifier <br> extra_trees_regressor <br> RF step in
stacking_classifier <br> RF step in stacking_regressor</td>
<td><code>n_estimators</code> <br> <code>min = 100,</code> <br>
<code>max = 1000</code></td>
<td><code>criterion: [&#39;gini&#39;, &#39;entropy&#39;]</code> <br>
<code>max_features: truncexpon(b=10., loc=.01, scale=1./10.11)</code>
<br> <code>max_depth: [1, 2, 3, 4, 6, 10, None]</code></td>
</tr>
<tr class="even">
<td>———————————-</td>
<td>——————</td>
<td>—————————————————————————</td>
</tr>
<tr class="odd">
<td>multilayer_perceptron_classifier <br>
multilayer_perceptron_regressor</td>
<td><code>n_epochs</code> <br> <code>min = 5,</code> <br>
<code>max = 50</code></td>
<td><code>keep_prob: uniform()</code> <br>
`<code>hidden_units: [(), (16,), (32,), (64,), (64, 64), (64, 64, 64),</code>
<br> <code>(128,), (128, 128), (128, 128, 128), (256,),</code> <br>
<code>(256, 256), (256, 256, 256), (512, 256, 128, 64),</code> <br>
<code>(1024, 512, 256, 128)]</code> <br>
<code>learning_rate: [1e-2, 2e-2, 5e-2, 8e-2, 1e-3, 2e-3, 5e-3, 8e-3, 1e-4]</code></td>
</tr>
</tbody>
</table>
<p>The truncated exponential distribution for the gradient boosting
classifier and regressor was chosen to skew the distribution toward
small values, ranging between .0003 and .03, with a mean close to .006.
Similarly, the truncated exponential distribution for the random forest
and extra trees models skews toward small values, ranging between .01
and 1, and with a mean close to .1.</p>
</div>
<div id="stacking" class="section level3">
<h3>Stacking</h3>
<p>The <code>&quot;stacking_classifier&quot;</code> model stacks together the
<code>&quot;gradient_boosting_classifier&quot;</code> and
<code>&quot;random_forest_classifier&quot;</code> predefined models together with
a
<code>glmnet.LogitNet(alpha=0, n_splits=4, max_iter=10000, tol=1e-5, scoring=&#39;log_loss&#39;)</code>.
Defaults for the predefined models are documented in
<code>?civis_ml</code>. Each column is first <a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html">standardized</a>,
and then the model predictions are combined using <a href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegressionCV.html">LogisticRegressionCV</a>
with <code>penalty=&#39;l2&#39;</code> and <code>tol=1e-08</code>. The
<code>&quot;stacking_regressor&quot;</code> works similarly, stacking together the
<code>&quot;gradient_boosting_regressor&quot;</code> and
<code>&quot;random_forest_regressor&quot;</code> models and a
<code>glmnet.ElasticNet(alpha=0, n_splits=4, max_iter=10000, tol=1e-5, scoring=&#39;r2&#39;)</code>,
combining them using <a href="https://github.com/civisanalytics/civisml-extensions">NonNegativeLinearRegression</a>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>m_stack <span class="ot">&lt;-</span> <span class="fu">civis_ml</span>(tab, <span class="at">dependent_variable =</span> <span class="st">&quot;upgrade&quot;</span>,</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>              <span class="at">model_type =</span> <span class="st">&quot;stacking_classifier&quot;</span>,</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>              <span class="at">primary_key =</span> <span class="st">&quot;brandable_user_id&quot;</span>,</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>              <span class="at">excluded_columns =</span> <span class="st">&quot;residential_zip&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="results" class="section level2">
<h2>Results</h2>
<p>A simple summary of the results from the best fitting model is
provided with <code>print</code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>## &lt;CivisML random_forest_classifier&gt;
## https://platform.civisanalytics.com/#/models/7072485
## Job id:  7072485  Run id:  58251183 
## 
## AUC:  0.8009
## upgrade:
##                  0      1
## Prop Correct 0.923 0.3297</code></pre>
<p>Following the link takes you to a summary of the model results in
Civis Platform. Additional metrics can be computed with
<code>get_metric</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">get_metric</span>(m, <span class="st">&quot;accuracy&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 0.761</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">get_metric</span>(m, <span class="st">&quot;confusion_matrix&quot;</span>)</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]  671   56
## [2,]  183   90</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">get_metric</span>(m, <span class="st">&quot;roc_auc&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 0.8009004</code></pre>
<p>Out of sample (or out of fold) scores used in training can be
retrieved using <code>fetch_oos_scores</code>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>oos <span class="ot">&lt;-</span> <span class="fu">fetch_oos_scores</span>(m)</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="fu">head</span>(oos)</span></code></pre></div>
<pre><code>##   brandable_user_id upgrade_1
## 1   00214b9181f2347    0.3280
## 2   0b6cbd77cb8d98b    0.7140
## 3   12ca082b063a3bf    0.4480
## 4   130060adea791e8    0.2060
## 5   1495366621d3834    0.3152
## 6   1a8ed19916ae7c2    0.1600</code></pre>
</div>
<div id="diagnostics" class="section level2">
<h2>Diagnostics</h2>
<p>For classification problems, <code>plot</code> produces a a decile
plot using <code>ggplot2</code>. For the premium upgrade model, the
decile plot shows that the top-scoring 10% of individuals contain 2.20
times as many targets (people who upgraded) as a randomly selected list
of the same size.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="fu">plot</span>(m)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>For regression problems, <code>plot</code> produces a binned
scatter-plot of <span class="math inline">\(y\)</span> against <span class="math inline">\(\hat{y}\)</span>.</p>
<p><code>hist</code> shows the histogram of out of sample (out of fold
scores), also using <code>ggplot2</code>:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">hist</span>(m)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="prediction-and-scoring" class="section level2">
<h2>Prediction and Scoring</h2>
<p>CivisML can also be used to score models on hundreds of millions of
rows, and distributed over many compute instances. Like many estimators
in R, this is done through a <code>predict</code> method. The
<code>newdata</code> argument of <code>predict</code> can take any data
source supported in <code>civis_ml</code>. Here we use a table in
Redshift containing all Brandable users, and output the result to
another table in Redshift:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>pred_tab <span class="ot">&lt;-</span> <span class="fu">civis_table</span>(<span class="at">table_name =</span> <span class="st">&quot;sample_project.brandable_all_users&quot;</span>)</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>pred_job <span class="ot">&lt;-</span> <span class="fu">predict</span>(m, <span class="at">newdata =</span> pred_tab,</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>                    <span class="at">output_table =</span> <span class="st">&quot;sample_project.brandable_user_scores&quot;</span>)</span></code></pre></div>
<p>Like training and validation, scoring is distributed by default,
using up to 90 percent of your computing cluster resources. If you would
like to have more control over the number of jobs that are run at once,
you can set a maximum using <code>n_jobs</code>:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>pred_job <span class="ot">&lt;-</span> <span class="fu">predict</span>(m, <span class="at">newdata =</span> pred_tab,</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>                    <span class="at">output_table =</span> <span class="st">&quot;sample_project.brandable_user_scores&quot;</span>,</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>                    <span class="at">n_jobs =</span> <span class="dv">25</span>)</span></code></pre></div>
<p>The predictions can be loaded into memory using
<code>fetch_predictions</code>, which downloads directly from S3:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>yhat <span class="ot">&lt;-</span> <span class="fu">fetch_predictions</span>(pred_job)</span></code></pre></div>
<p>Note that if the table of predictions exceeds available memory, it
may be helpful to use <code>download_civis</code> instead.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="co"># download from S3</span></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="fu">download_civis</span>(pred_job<span class="sc">$</span>model_info<span class="sc">$</span>output_file_ids, <span class="at">path =</span> <span class="st">&quot;my_predictions.csv&quot;</span>)</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a><span class="co"># download from Redshift</span></span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a><span class="fu">download_civis</span>(<span class="st">&quot;sample_project.brandable_user_scores&quot;</span>)</span></code></pre></div>
</div>
<div id="retrieving-existing-models" class="section level2">
<h2>Retrieving Existing models</h2>
<p>An existing model (or particular run of an existing model) can be
retrieved using <code>civis_ml_fetch_existing</code>:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>model_id <span class="ot">&lt;-</span> m<span class="sc">$</span>job<span class="sc">$</span>id</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">civis_ml_fetch_existing</span>(model_id)</span></code></pre></div>
</div>
<div id="error-handling" class="section level2">
<h2>Error Handling</h2>
<p>Unfortunately, many kinds of errors can occur. When an error occurs
within CivisML, a <code>civis_ml_error</code> is thrown. By default, the
log from the CivisML job is printed, which is useful for debugging.</p>
<p>Here is an example error from misspelling the model type:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="fu">civis_ml</span>(tab, <span class="at">dependent_variable =</span> <span class="st">&quot;upgrade&quot;</span>,</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a>         <span class="at">model_type =</span> <span class="st">&quot;random_fest_classifier&quot;</span>,</span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a>         <span class="at">primary_key =</span> <span class="st">&quot;brandable_user_id&quot;</span>,</span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a>         <span class="at">excluded_columns =</span> <span class="st">&quot;residential_zip&quot;</span>,</span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a>         <span class="at">cross_validation_parameters =</span> cv_params)</span></code></pre></div>
<pre><code>## &lt;civis_ml_error&gt;
## scripts_get_custom_runs(id = 7077157, run_id = 58263925): 
## 2017-08-29 13:01:54 PM CDT Queued
## 2017-08-29 13:01:55 PM CDT Running
## 2017-08-29 13:01:57 PM CDT Dedicating resources
## 2017-08-29 13:01:58 PM CDT Downloading code and container
## 2017-08-29 13:01:59 PM CDT Executing script
## 2017-08-29 13:02:03 PM CDT Please select one of the pre-defined models: [&#39;sparse_logistic&#39;, &#39;sparse_linear_regressor&#39;, &#39;sparse_ridge_regressor&#39;, &#39;gradient_boosting_classifier&#39;, &#39;random_forest_classifier&#39;, &#39;extra_trees_classifier&#39;, &#39;gradient_boosting_regressor&#39;, &#39;random_forest_regressor&#39;, &#39;extra_trees_regressor&#39;]
## 2017-08-29 13:02:05 PM CDT Process used approximately 97.57 MiB of its 3188 MiB memory limit
## 2017-08-29 13:02:05 PM CDT Failed
## 2017-08-29 13:02:06 PM CDT Error on job: Process ended with an error, exiting: 1.</code></pre>
<p>If you don’t understand the error message, providing the error
message, job, and run ids to support is the best way to get help!</p>
</div>
<div id="programming-with-civis_ml" class="section level2">
<h2>Programming with <code>civis_ml</code></h2>
<p>When programming with <code>civis_ml</code>, errors can be caught
using the base R <code>try</code> or <code>tryCatch</code>. In
<code>civis</code>, we provide functions for getting debugging
information using <code>get_error</code> or just the logs using
<code>fetch_logs</code>.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a>e <span class="ot">&lt;-</span> <span class="fu">tryCatch</span>({</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>  <span class="fu">civis_ml</span>(tab, <span class="at">dependent_variable =</span> <span class="st">&quot;upgrade&quot;</span>,</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a>        <span class="at">model_type =</span> <span class="st">&quot;random_fest_classifier&quot;</span>,</span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a>        <span class="at">primary_key =</span> <span class="st">&quot;brandable_user_id&quot;</span>,</span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a>        <span class="at">excluded_columns =</span> <span class="st">&quot;residential_zip&quot;</span>)</span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a>  }, <span class="at">civis_ml_error =</span> <span class="cf">function</span>(e) e)</span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a><span class="fu">get_error</span>(e)</span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a><span class="fu">fetch_logs</span>(e)</span></code></pre></div>
<p>Error handling can be used to implement more robust workflow
programming with <code>civis_ml</code>. In the following function, we
implement <code>retry_model</code>, which retries on e.g. connection
failures but not on a <code>civis_ml_error</code>.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>retry_model <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">max_retries =</span> <span class="dv">5</span>) {</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>  i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a>  <span class="cf">while</span> (i <span class="sc">&lt;</span> max_retries) {</span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>    <span class="fu">tryCatch</span>({</span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a>      m <span class="ot">&lt;-</span> <span class="fu">civis_ml</span>(tab, <span class="at">dependent_variable =</span> <span class="st">&quot;upgrade&quot;</span>,</span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a>               <span class="at">model_type =</span> <span class="st">&quot;random_forest_classifier&quot;</span>,</span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a>               <span class="at">primary_key =</span> <span class="st">&quot;brandable_user_id&quot;</span>,</span>
<span id="cb26-8"><a href="#cb26-8" tabindex="-1"></a>               <span class="at">excluded_columns =</span> <span class="st">&quot;residential_zip&quot;</span>)</span>
<span id="cb26-9"><a href="#cb26-9" tabindex="-1"></a>      <span class="fu">return</span>(m)</span>
<span id="cb26-10"><a href="#cb26-10" tabindex="-1"></a>    }, <span class="at">civis_ml_error =</span> <span class="cf">function</span>(e) <span class="fu">stop</span>(e))</span>
<span id="cb26-11"><a href="#cb26-11" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;Retry: &quot;</span>, i, <span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb26-12"><a href="#cb26-12" tabindex="-1"></a>    i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb26-13"><a href="#cb26-13" tabindex="-1"></a>  }</span>
<span id="cb26-14"><a href="#cb26-14" tabindex="-1"></a>  <span class="fu">stop</span>(<span class="st">&quot;Exceeded maximum retries.&quot;</span>)</span>
<span id="cb26-15"><a href="#cb26-15" tabindex="-1"></a>}</span></code></pre></div>
<p>Workflow programming could be further enhanced by printing the logs,
storing the error object, or writing error logs to a file or
database.</p>
</div>
<div id="appendix" class="section level2">
<h2>Appendix</h2>
<div id="parallelization" class="section level3">
<h3>Parallelization</h3>
<p>To fit many models in parallel using <code>parallel</code>,
<code>foreach</code>, or <code>future</code>, check out <a href="https://civisanalytics.github.io/civis-r/articles/concurrency.html">this
article</a> or the vignette on concurrency at
<code>browseVignettes(&quot;civis&quot;)</code>.</p>
</div>
<div id="sample-weights" class="section level3">
<h3>Sample weights</h3>
<p>Many estimators take a <code>sample_weight</code> argument. This can
be be specified with the <code>fit_params</code> argument of
<code>civis_ml</code> using
<code>list(sample_weight = &#39;survey_weight_column&#39;)</code>.</p>
</div>
<div id="missing-data" class="section level3">
<h3>Missing data</h3>
<p>Modeling data must be complete. Any missing values will be imputed
with the mean of non-null values in a column.</p>
</div>
<div id="civisml-versions" class="section level3">
<h3>CivisML Versions</h3>
<p>By default, CivisML uses its latest version in production. If you
would like a specific version (e.g., for a production pipeline where
pinning the CivisML version is desirable), both <code>civis_ml</code>
and the <code>civis_ml_*</code> functions have the optional parameter
<code>civisml_version</code> that accepts a string, e.g.,
<code>&#39;v2.3&#39;</code> for CivisML v2.3. Please see <a href="https://civis.zendesk.com/hc/en-us/articles/360000260011-CivisML">here</a>
for the list of CivisML versions.</p>
</div>
<div id="more-information" class="section level3">
<h3>More information</h3>
<p>Custom estimators can be written in Python and included in CivisML if
they follow the scikit-learn API. For example, the
<code>sparse_logistic</code>, <code>sparse_linear_regressor</code>, and
<code>sparse_ridge_regressor</code> models all use the public Civis
Analytics <a href="https://github.com/civisanalytics/python-glmnet">glmnet</a>
wrapper in Python.</p>
<p>Browse <a href="https://civis-python.readthedocs.io/en/stable/ml.html">the CivisML
documentation</a> for more details!</p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
